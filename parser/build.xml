<?xml version='1.0'?>
<project name='ktr-parser' default='run'>

    <!--[>property file<]-->
    <!--<property file='build.properties'/>-->

    <!--delete generated topo-->
    <target name='clean' description='remove last generated topo'>
        <!--<delete file='topologies/Dfn.graphml-generated-Mininet-Topo.py'/>-->
        <delete file='topologies/Abilene.graphml-generated-Mininet-Topo.py'/>
        <echo taskname='delmsg'>Deleted all generated files!</echo>
    </target>

    <!--run script and generate topo-->
    <target name='run' description='run the python code and generate current topo' depends='clean'>
        <exec executable='python' dir='.' taskname='generate'>
            <arg value='GraphML-Topo-to-Mininet-Network-Generator.py'/>
            <arg value='-f'/>
            <!--<arg value='topologies/Dfn.graphml'/>-->
            <arg value='topologies/Abilene.graphml'/>
            <arg value='-b'/>
            <arg value='100'/>
        </exec>
        <exec executable='chmod' dir='./topologies' taskname='chmod'>
            <arg value='777'/>
            <!--<arg value='Dfn.graphml-generated-Mininet-Topo.py'/>-->
            <arg value='Abilene.graphml-generated-Mininet-Topo.py'/>
        </exec>
        <echo>Fixed topo user rights.</echo>
        <exec executable='ls' dir='./topologies' taskname='ls'>
            <!--<arg value='topologies'/>-->
        </exec>
    </target>

</project>
